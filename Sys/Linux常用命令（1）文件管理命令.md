

# 文件管理

常用：ls、cp、mkdir、touch、mv、rm、rename、find、which



## ls命令

ls 命令是Linux下最常用的指令之一。ls命令为英文单词 list 的缩写；其功能是列出指定目录下的内容及其相关属性信息。

> 语法格式: ls [选项] [文件]
>
> 常用参数：
>
> -a ：显示所有文件及目录 (包括以“.”开头的隐藏文件)
>
> -l ：使用长格式列出文件及目录信息
>
> -r ：将文件以相反次序显示(默认依英文字母次序)
>
> -t ：根据最后的修改时间排序
>
> -A ：同 -a ，但不列出 “.” (当前目录) 及 “..” (父目录)
>
> -S ：根据文件大小排序
>
> -R ：递归列出所有子目录

常用实例

```shell
#列出所有文件(包括隐藏文件)
ls -a
#列出文件的详细信息
ls -l
#列出当前工作目录下所有名称是 “s” 开头的文件
ls s*
```



## cp命令

将复制一个或多个文件到一个具体的文件名或一个已经存在的目录下

> **语法格式：**cp [参数] [文件]
>
> **常用参数：**
>
> -f：若目标文件已存在，则会直接覆盖原文件
>
> -i：若目标文件已存在，则会询问是否覆盖
>
> -p：保留源文件或目录的所有属性
>
> -r：递归方式目录及其下的文件
>
> -d：当复制符号连接时，把目标文件或目录也建立为符号连接，并指向与源文件或目录连接的原始文件或目录
>
> -l：对源文件建立硬连接，而非复制文件
>
> -s：对源文件建立符号连接，而非复制文件
>
> -b：覆盖已存在的文件目标前将目标文件备份
>
> -v：详细显示cp命令执行的操作过程
>
> -a：等价于“dpr”选项

常用实例

```shell
# 递归方式目录及其下的文件
cp -r dir1 dir2  
# 复制多个文
cp -r file1 file2 file3 dir
# 将文件test1改名为test2
cp -f test1 test2
```



## mkdir命令

mkdir命令是“make directories”的缩写，用来创建目录；

注意：默认状态下，如果要创建的目录已经存在，则提示已存在，而不会继续创建目录

> 语法格式 : mkdir [参数] [目录]
>
> -p：递归创建多级目录
>
> -m：建立目录的同时设置目录的权限
>
> -z：设置安全上下文
>
> -v：显示目录的创建过程

常用实例

```shell
#建立一个名为 dir 的子目录
mkdir dir
#递归创建多级子目录
mkdir -p dir/dir2/dir2
```

**touch命令**

touch命令有两个功能：一是创建新的空文件，二是改变已有文件的时间戳属性

> 语法格式：touch [参数] [文件]
>
> 常用参数：
>
> a 改变档案的读取时间记录。
>
> m 改变档案的修改时间记录。
>
> c 假如目的档案不存在，不会建立新的档案。与 --no-create 的效果一样。
>
> f 不使用，是为了与其他 unix 系统的相容性而保留。
>
> r 使用参考档的时间记录，与 --file 的效果一样。
>
> d 设定时间与日期，可以使用各种不同的格式。
>
> t 设定档案的时间记录，格式与 date 指令相同。
>
> --no-create 不会建立新档案。
>
> --help 列出指令格式。
>
> --version 列出版本讯息。   

常用实例

```shell
#创建空文件file.txt
touch file.txt  
# 批量创建文件file1.txt file2.txt file3.txt file4.txt file5.txt
touch file{1..5}.txt
#如果file.txt不存在，则不创建文件
```



## mv命令

mv 命令用来为文件或目录改名、或将文件或目录移入其它位置。

> 语法格式：
>
> mv [options] source dest mv [options] source... directory
>
> 参数说明：
>
> -i: 若指定目录已有同名文件，则先询问是否覆盖旧文件;
>
> -f: 在 mv 操作要覆盖某已有的目标文件时不给任何指示;

常用实例

```shell
# 将文件 aaa 更名为 bbb
mv aaa bbb
# 将文件file移动到目录dir中
mv file /dir
# 将目录dir1下的文件移动到当前目录下
mv /dir1/* .
```



## rm命令

rm命令用于删除一个文件或者目录

> 语法格式：rm [options] name...
>
> 常用参数：
>
> -i 删除前逐一询问确认。
>
> -f 即使原档案属性设为唯读，亦直接删除，无需逐一确认。
>
> -r 将目录及以下之档案亦逐一删除。
>
> 

常用实例：

```shell
# 删除文件，需要确认
rm file.txt
# 删除目录及以下之档案
rm -r file
# 直接删除目录及以下之档案，无需确认
rm -rf file
```



## rename命令

用字符串替换的方式批量改变文件名

> 语法格式：rename [参数]
>
> 常用参数：
>
> ?：可替代单个字符
>
> *：可替代多个字符

常用实例

```shell
#将test1.txt重命名为test2.txt
rename test1.txt test2.txt

将所有以jpg结尾的文件重命名为以png结尾的文件
rename .jpg .png *.jpg

#文件夹中有这些文件：foo1, …, foo9, foo10, …, foo163，把foo1到foo9的文件重命名为foo01到foo09：
rename foo foo0 foo?
#把foo01到foo99的所有文件重命名为foo001到foo099：
rename foo foo0 foo??
#把foo001到foo163的所有文件重命名为foo0001到foo0163：
rename foo foo0 foo*
把foo0100到foo0163的所有文件重命名为foo100到foo163：
rename foo0 foo foo0[1]*
```



## find命令

find命令用来在指定目录下查找文件；如果使用该命令时，不设置任何参数，则find命令将在当前目录下查找子目录与文件。并且将查找到的子目录和文件全部进行显示。

> 语法格式：find [路径] [参数] [查找和搜索范围]
>
> 常用参数：
>
> -name：按名称查找
>
> -size：按大小查找
>
> -user：按属性查找
>
> -type：按类型查找
>
> -iname：忽略大小写查找

常用实例：

```shell
#使用-name参数查看/etc目录下面所有的.conf结尾的配置文件：
find /etc -name "*.conf
#使用-size参数查看/etc目录下面大于1M的文件
find /etc -size +1M
```



## which命令

用于查找文件，在PATH变量指定的路径中，搜索某个系统命令的位置

> 语法格式：which [文件...]
>
> 常用参数
>
> -n<文件名长度> 　指定文件名长度，指定的长度必须大于或等于所有文件中最长的文件名。
>
> -p<文件名长度> 　与-n参数相同，但此处的<文件名长度>包括了文件的路径。
>
> -w 　指定输出时栏位的宽度。
>
> -V 　显示版本信息。

常用实例：

```shell
#查找文件、显示命令路径： 
which java
```



# 参考资料

* [Linux命令大全(手册)](https://www.linuxcool.com)
* [Linux 命令大全 | 菜鸟教程](https://www.runoob.com/linux/linux-comm-touch.html)
